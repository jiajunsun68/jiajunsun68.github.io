<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>博客索引</title>
</head>
<body>
  <h1>博客索引</h1>

  <ul id="post-list">
    <!-- 使用 JavaScript 动态读取 _post 目录下的文件夹和文件 -->
    <script>
      // 获取 _post 目录中的所有文件夹和文件
      fetch('_post/')
        .then(response => response.text())
        .then(data => {
          // 使用正则表达式提取文件夹和文件名
          const regex = /<a href="(.*)">.*<\/a>/g;
          let match;
          while ((match = regex.exec(data)) !== null) {
            const filePath = match[1];
            const fileName = filePath.split('/').pop();
            // 检查是否为文件夹
            if (filePath.endsWith('/')) {
              // 创建文件夹列表项并添加到博客索引中
              const folderListItem = document.createElement('li');
              const folderLink = document.createElement('a');
              folderLink.href = filePath;
              folderLink.textContent = fileName;
              folderListItem.appendChild(folderLink);
              document.querySelector('#post-list').appendChild(folderListItem);
            } else {
              // 创建文件列表项并添加到博客索引中
              const fileListItem = document.createElement('li');
              const fileLink = document.createElement('a');
              fileLink.href = filePath;
              fileLink.textContent = fileName;
              fileListItem.appendChild(fileLink);
              document.querySelector('#post-list').appendChild(fileListItem);
            }
          }
        });
    </script>
  </ul>
</body>
</html>
